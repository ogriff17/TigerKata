{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Oksana Miller\\\\repos\\\\tigerkata\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import'../css/Login.css';import{Button,FormGroup,FormControl}from\"react-bootstrap\";import{FormLabel}from\"react-bootstrap\";import React,{useState}from\"react\";import axios from\"axios\";var Login=function Login(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];function validateForm(){return email.length>0&&password.length>0;}function handleSubmit(event){event.preventDefault();// no code here\nwindow.$Login=false;window.$Email='';window.$Name='';var user={email:email,password:password};console.log('user ='+{user:user});axios.get('/users/Login',user).then(function(res){return ChkResults(res,user);}).catch(function(error){console.log(error);});}function ChkResults(res,user){var data=res.data;console.log('data '+data);var okEmail='';var okPw='';var i;var loop=data.length;console.log('user.email = '+user.email);for(i=0;i<loop&&okEmail===''&&okPw==='';i++){console.log('data '+data[i].email);if(user.email===data[i].email){okEmail=true;window.$Email=data[i].email;window.$Name=data[i].name;console.log('password '+data[i].password);console.log('user.password '+user.password);if(user.password===data[i].password){okPw=true;}else{okPw=false;};}};if(okEmail===true&&okPw===true){window.$Login=true;DoRedirect();}else{alert('Login failed');};return;};function DoRedirect(){props.history.push(\"/Quiz\");return;};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"Login\",id:\"PwBox\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Login\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"email\",bsSize:\"large\"},/*#__PURE__*/React.createElement(FormLabel,null,\"Email\"),/*#__PURE__*/React.createElement(FormControl,{className:\"LoginInput\",autoFocus:true,type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"password\",bsSize:\"large\"},/*#__PURE__*/React.createElement(FormLabel,null,\"Password\"),/*#__PURE__*/React.createElement(FormControl,{className:\"LoginInput\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{block:true,bsSize:\"large\",disabled:!validateForm(),type:\"submit\"},\"Login\"))));};export default Login;","map":{"version":3,"sources":["C:/Users/Oksana Miller/repos/tigerkata/client/src/components/javascript/Login.js"],"names":["Button","FormGroup","FormControl","FormLabel","React","useState","axios","Login","props","email","setEmail","password","setPassword","validateForm","length","handleSubmit","event","preventDefault","window","$Login","$Email","$Name","user","console","log","get","then","res","ChkResults","catch","error","data","okEmail","okPw","i","loop","name","DoRedirect","alert","history","push","e","target","value"],"mappings":"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","sourcesContent":["import '../css/Login.css';\r\nimport { Button, FormGroup, FormControl } from \"react-bootstrap\";\r\nimport { FormLabel } from \"react-bootstrap\";\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst Login = (props)=> {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    function validateForm() {\r\n        return email.length > 0 && password.length > 0;\r\n    }\r\n\r\n    function handleSubmit(event){  \r\n        event.preventDefault(); // no code here\r\n        window.$Login = false;\r\n        window.$Email = '';\r\n        window.$Name = '';\r\n        const user = {\r\n            email:email,\r\n            password:password \r\n        }\r\n        console.log('user =' + {user})\r\n        axios.get('/users/Login', user)\r\n        .then(res => ChkResults(res, user) )\r\n        .catch((error) => {console.log(error)});\r\n    }\r\n\r\n        function ChkResults(res, user) {\r\n            var data = res.data;\r\n            console.log('data ' + data);\r\n            let okEmail = '';\r\n            let okPw = '';\r\n            let i;\r\n            let loop = data.length;\r\n            console.log('user.email = ' + user.email);\r\n            for (i = 0;(i < loop && okEmail === '' && okPw === ''); i++){\r\n                console.log('data ' + data[i].email);\r\n                if (user.email === data[i].email){\r\n                    okEmail = true\r\n                    window.$Email = data[i].email\r\n                    window.$Name = data[i].name\r\n                    console.log('password ' + data[i].password);\r\n                    console.log('user.password ' + user.password);\r\n                   if (user.password === data[i].password)\r\n                        {okPw = true}\r\n                    else\r\n                        {okPw = false};\r\n                }\r\n            };\r\n\r\n            if (okEmail === true && okPw === true){\r\n                window.$Login = true \r\n                DoRedirect()\r\n            }\r\n\r\n            else {\r\n                alert('Login failed')\r\n            };\r\n            return;\r\n        };\r\n\r\n        function DoRedirect(){\r\n            props.history.push(\"/Quiz\")\r\n            return;\r\n        };\r\n\r\n  return (\r\n      <div>\r\n          <br></br><br></br>\r\n        <div className = \"Login\" id=\"PwBox\">\r\n            <h2>Login</h2>\r\n            <form onSubmit ={handleSubmit}>\r\n                <br></br>\r\n                <FormGroup controlId =\"email\" bsSize=\"large\"> \r\n                    <FormLabel>Email</FormLabel>\r\n                    <FormControl className =\"LoginInput\"\r\n                    autoFocus\r\n                    type=\"email\"\r\n                    value={email}\r\n                    onChange = {e => setEmail(e.target.value)}\r\n                    />\r\n                    <br></br><br></br>\r\n                </FormGroup>\r\n                <FormGroup controlId =\"password\" bsSize =\"large\">\r\n                    <FormLabel>Password</FormLabel>\r\n                     <FormControl className =\"LoginInput\"\r\n                     value={password}\r\n                     onChange={e => setPassword(e.target.value)}\r\n                     type=\"password\"\r\n                     />\r\n                </FormGroup>\r\n                <br></br>\r\n                <Button block bsSize =\"large\" disabled={!validateForm()} type=\"submit\">\r\n                Login\r\n                </Button>\r\n            </form>\r\n        </div>\r\n      </div>\r\n  );\r\n\r\n};\r\n\r\nexport default Login;\r\n\r\n"]},"metadata":{},"sourceType":"module"}