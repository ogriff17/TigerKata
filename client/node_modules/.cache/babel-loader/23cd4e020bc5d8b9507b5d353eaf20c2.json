{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Oksana Miller\\\\repos\\\\tigerkata\\\\client\\\\src\\\\components\\\\javascript\\\\Login.js\";\nimport '../css/Login.css';\nimport { Button, FormGroup, FormControl } from \"react-bootstrap\";\nimport { FormLabel } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst Login = props => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function validateForm() {\n    return email.length > 0 && password.length > 0;\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault(); // no code here\n\n    window.$Login = false;\n    window.$Email = '';\n    window.$Name = '';\n    const user = {\n      email: email,\n      password: password\n    };\n    console.log('user =' + {\n      user\n    });\n    axios.get('/users/Login', user).then(res => ChkResults(res, user)).catch(error => {\n      console.log(error);\n    });\n  }\n\n  function ChkResults(res, user) {\n    var data = res.data;\n    console.log('data ' + data);\n    let okEmail = '';\n    let okPw = '';\n    let i;\n    let loop = data.length;\n    console.log('user.email = ' + user.email);\n\n    for (i = 0; i < loop && okEmail === '' && okPw === ''; i++) {\n      console.log('data ' + data[i].email);\n\n      if (user.email === data[i].email) {\n        okEmail = true;\n        window.$Email = data[i].email;\n        window.$Name = data[i].name;\n        console.log('password ' + data[i].password);\n        console.log('user.password ' + user.password);\n\n        if (user.password === data[i].password) {\n          okPw = true;\n        } else {\n          okPw = false;\n        }\n\n        ;\n      }\n    }\n\n    ;\n\n    if (okEmail === true && okPw === true) {\n      window.$Login = true;\n      DoRedirect();\n    } else {\n      alert('Login failed');\n    }\n\n    ;\n    return;\n  }\n\n  ;\n\n  function DoRedirect() {\n    props.history.push(\"/Quiz\");\n    return;\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"loginPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Login\",\n    id: \"PwBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(FormGroup, {\n    controlId: \"email\",\n    bsSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(FormControl, {\n    className: \"LoginInput\",\n    autoFocus: true,\n    type: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 30\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    controlId: \"password\",\n    bsSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(FormControl, {\n    className: \"LoginInput\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 22\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    bsSize: \"large\",\n    disabled: !validateForm(),\n    type: \"submit\",\n    id: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"Login\"))));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Oksana Miller/repos/tigerkata/client/src/components/javascript/Login.js"],"names":["Button","FormGroup","FormControl","FormLabel","React","useState","axios","Login","props","email","setEmail","password","setPassword","validateForm","length","handleSubmit","event","preventDefault","window","$Login","$Email","$Name","user","console","log","get","then","res","ChkResults","catch","error","data","okEmail","okPw","i","loop","name","DoRedirect","alert","history","push","e","target","value"],"mappings":"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","sourcesContent":["import '../css/Login.css';\r\nimport { Button, FormGroup, FormControl } from \"react-bootstrap\";\r\nimport { FormLabel } from \"react-bootstrap\";\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst Login = (props)=> {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    function validateForm() {\r\n        return email.length > 0 && password.length > 0;\r\n    }\r\n\r\n    function handleSubmit(event){  \r\n        event.preventDefault(); // no code here\r\n        window.$Login = false;\r\n        window.$Email = '';\r\n        window.$Name = '';\r\n        const user = {\r\n            email:email,\r\n            password:password \r\n        }\r\n        console.log('user =' + {user})\r\n        axios.get('/users/Login', user)\r\n        .then(res => ChkResults(res, user) )\r\n        .catch((error) => {console.log(error)});\r\n    }\r\n\r\n        function ChkResults(res, user) {\r\n            var data = res.data;\r\n            console.log('data ' + data);\r\n            let okEmail = '';\r\n            let okPw = '';\r\n            let i;\r\n            let loop = data.length;\r\n            console.log('user.email = ' + user.email);\r\n            for (i = 0;(i < loop && okEmail === '' && okPw === ''); i++){\r\n                console.log('data ' + data[i].email);\r\n                if (user.email === data[i].email){\r\n                    okEmail = true\r\n                    window.$Email = data[i].email\r\n                    window.$Name = data[i].name\r\n                    console.log('password ' + data[i].password);\r\n                    console.log('user.password ' + user.password);\r\n                   if (user.password === data[i].password)\r\n                        {okPw = true}\r\n                    else\r\n                        {okPw = false};\r\n                }\r\n            };\r\n\r\n            if (okEmail === true && okPw === true){\r\n                window.$Login = true \r\n                DoRedirect()\r\n            }\r\n\r\n            else {\r\n                alert('Login failed')\r\n            };\r\n            return;\r\n        };\r\n\r\n        function DoRedirect(){\r\n            props.history.push(\"/Quiz\")\r\n            return;\r\n        };\r\n\r\n  return (\r\n      <div id=\"loginPage\">\r\n        <div className = \"Login\" id=\"PwBox\">\r\n            <h2>Login</h2>\r\n            <form onSubmit ={handleSubmit}>\r\n                 <br></br> \r\n                <FormGroup controlId =\"email\" bsSize=\"large\"> \r\n                    <FormLabel>Email</FormLabel>\r\n                    <FormControl className =\"LoginInput\"\r\n                    autoFocus\r\n                    type=\"email\"\r\n                    value={email}\r\n                    onChange = {e => setEmail(e.target.value)}\r\n                    />\r\n                    <br></br><br></br>\r\n                </FormGroup>\r\n                <FormGroup controlId =\"password\" bsSize =\"large\">\r\n                    <FormLabel>Password</FormLabel>\r\n                     <FormControl className =\"LoginInput\"\r\n                     value={password}\r\n                     onChange={e => setPassword(e.target.value)}\r\n                     type=\"password\"\r\n                     />\r\n                </FormGroup>\r\n                <br></br>\r\n                <Button block bsSize =\"large\" disabled={!validateForm()} type=\"submit\" id =\"button\">\r\n                Login\r\n                </Button>\r\n            </form>\r\n        </div>\r\n      </div>\r\n  );\r\n\r\n};\r\n\r\nexport default Login;\r\n\r\n"]},"metadata":{},"sourceType":"module"}